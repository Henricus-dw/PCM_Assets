<!DOCTYPE html>
<html>

<head>
    <title>Vodacom Subscription Form</title>
    <link rel="stylesheet" href="/static/styles.css?v={{ time }}">
</head>

<body>
    <!-- Sidebar navigation -->

    <div class="sidebar">
        <img src="/static/pcm-lockup-goldc-final.svg" alt="PCM logo" />

        <!-- Top navigation -->
        <div class="nav-top">
            <a href="/dashboard" class="{{ 'active' if section == 'home' else '' }}"><span>Home</span></a>
            <a href="/form" class="{{ 'active' if section == 'form' else '' }}"><span>Capturing Form</span></a>
            <a href="/dashboard/vodacom" class="{{ 'active' if section == 'vodacom' else '' }}"><span>Vodacom
                    Dashboard</span></a>
            <a href="/dashboard/devices" class="{{ 'active' if section == 'devices' else '' }}"><span>Devices
                    Dashboard</span></a>
        </div>

        <!-- Bottom navigation -->

        <div class="nav-bottom">
            {% if request.session.get('is_admin') %}
            <a href="/admin" class="{{ 'active' if section == 'admin' else '' }}"><span>Admin</span></a>
            {% endif %}


            <a href="/settings" class="{{ 'active' if section == 'settings' else '' }}"><span>Settings</span></a>
            <a href="/logout" id="logoutLink" class="{{ 'active' if section == 'logout' else '' }}">
                <span>Log Out</span>
            </a>
        </div>
        <button id="sidebarHandle" class="sidebar-handle" aria-label="Collapse sidebar" aria-pressed="false"
            title="Collapse sidebar"> <span class="handle-icon" aria-hidden="true">⟨</span> </button>
    </div>
    <!-- Main content area with 3 columns -->
    <div class="content">
        <!-- Block 1: The form -->
        <div id="formGroupWrapper">
            <div class="contentInner" id="form1">

                <div class="boxTopHeader">Vodacom Subscription Form
                    <span id="linkPillContract" class="link-pill" aria-hidden="true">🔗 Linked</span>
                </div>


                {% if message %}
                <p style="color: green;">{{ message }}</p>
                {% endif %}

                <form id="vodacomForm" method="post" action="/submit">

                    <div class="deviceCheckContainer">
                        <label for="hasDevices">Does this contract have devices?</label>
                        <input type="checkbox" id="hasDevices">

                        <div id="deviceCountContainer"
                            style="display: none; margin-top: 8px; margin-right: 8px; font-size: 12px;">
                            <label style="font-weight: normal;" for="deviceCount">How many devices?</label>
                            <input type="number" id="deviceCount" min="1" max="10" value="1">
                        </div>
                    </div>
                    <div class="vodacom-form-wrapper">
                        <label>Name:</label>
                        <input type="text" id="Name_" name="Name_" required>

                        <label for="Surname_">Surname:</label>
                        <input type="text" id="Surname_" name="Surname_" required>

                        <label for="Personnel_nr">Personnel Number:</label>
                        <input type="text" id="Personnel_nr" name="Personnel_nr" required>

                        <label for="Company">Company:</label>
                        <select id="Company" name="Company" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>

                        <label for="Client_Division">Client Division:</label>
                        <select id="Client_Division" name="Client_Division" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>

                        <label for="Contract_Type">Contract Type:</label>
                        <select id="Contract_Type" name="Contract_Type" required>
                            <option>AIRTIME</option>
                            <option>DATA</option>
                        </select>

                        <label for="Monthly_Costs">Monthly Costs (Excl VAT):</label>
                        <input type="text" id="Monthly_Costs" name="Monthly_Costs" required>

                        <label for="VAT">VAT (15%):</label>
                        <input type="text" id="VAT" name="VAT" readonly>

                        <label for="Monthly_Cost_Excl_VAT">Monthly Cost (Excl VAT):</label>
                        <input type="text" id="Monthly_Cost_Excl_VAT" name="Monthly_Cost_Excl_VAT" readonly>

                        <label>Contract Term:</label>
                        <div class="radioDiv">
                            <label for="term12">12 Months</label>
                            <input class="inputRadio" type="radio" id="term12" name="Contract_Term" value="12 Months"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="term24">24 Months</label>
                            <input class="inputRadio" type="radio" id="term24" name="Contract_Term" value="24 Months"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="term36">36 Months</label>
                            <input class="inputRadio" type="radio" id="term36" name="Contract_Term" value="36 Months"
                                required>
                        </div>

                        <label for="Sim_Card_Number">SIM Card Number:</label>
                        <input type="text" id="Sim_Card_Number" name="Sim_Card_Number" required>

                        <label for="Inception_Date">Inception Date:</label>
                        <input type="date" id="Inception_Date" name="Inception_Date" required>

                        <label for="Termination_Date">Termination Date:</label>
                        <input type="date" id="Termination_Date" name="Termination_Date" readonly>
                    </div>
                    <button type="submit" id="vodacomSubmitBtn" class="formSubmitButton">Submit</button>
                </form>
            </div>


            <div class="contentInner" id="form2">
                <div class="boxTopHeader">Device Capturing Form
                    <span id="linkPillDevices" class="link-pill" aria-hidden="true">🔗 Linked</span>
                </div>

                {% if message %}
                <p style="color: green;">{{ message }}</p>
                {% endif %}

                <form id="allDevicesForm" method="post" action="/submit_device">

                    <div class="deviceCheckContainer">
                        <label for="deviceIsVodacom">Is this device on a Vodacom contract?</label>
                        <input type="checkbox" id="deviceIsVodacom" name="deviceIsVodacom">
                    </div>
                    <!-- Device Form 1 (original) -->
                    <div class="device-form-wrapper" data-device-index="1" style="background: #faf7f2;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #cccccc;">


                        <label for="AName_1">Name of Device Owner:</label>
                        <input type="text" id="AName_1" name="AName_1" required>
                        <label for="ASurname_1">Surname Device Owner:</label>
                        <input type="text" id="ASurname_1" name="ASurname_1" required>
                        <label for="APersonnel_nr_1">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_1" name="APersonnel_nr_1" required>
                        <label for="ACompany_1">Company:</label>
                        <select id="ACompany_1" name="ACompany_1" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_1">Client Division:</label>
                        <select id="AClient_Division_1" name="AClient_Division_1" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_1">Device Name:</label>
                        <input type="text" id="Device_Name_1" name="Device_Name_1" required>
                        <label for="Serial_Number_1">Serial Number:</label>
                        <input type="text" id="Serial_Number_1" name="Serial_Number_1" required>
                        <label for="Device_Description_1">Device Description:</label>
                        <select id="Device_Description_1" name="Device_Description_1" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_1">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_1" name="insurance_1" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_1">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_1" name="insurance_1" value="No"
                                required>
                        </div>
                    </div>

                    <!-- Device Forms 2 to 10 (hidden by default) -->
                    <!-- For brevity, only device 2 shown, replicate similarly for devices 3 to 10 -->
                    <div class="device-form-wrapper" data-device-index="2" style="display:none; background:#f0e8e1;
                                    
                                    padding: 15px;
                                    margin-bottom: 20px;
                                    border: 1px solid #89753e86;">
                        <h3>Device 2</h3>

                        <label for="AName_2">Name of Device Owner:</label>
                        <input type="text" id="AName_2" name="AName_2" required>
                        <label for="ASurname_2">Surname Device Owner:</label>
                        <input type="text" id="ASurname_2" name="ASurname_2">
                        <label for="APersonnel_nr_2">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_2" name="APersonnel_nr_2">
                        <label for="ACompany_2">Company:</label>
                        <select id="ACompany_2" name="ACompany_2">
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_2">Client Division:</label>
                        <select id="AClient_Division_2" name="AClient_Division_2">
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_2">Device Name:</label>
                        <input type="text" id="Device_Name_2" name="Device_Name_2">
                        <label for="Serial_Number_2">Serial Number:</label>
                        <input type="text" id="Serial_Number_2" name="Serial_Number_2">
                        <label for="Device_Description_2">Device Description:</label>
                        <select id="Device_Description_2" name="Device_Description_2">
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_2">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_2" name="insurance_2" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_2">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_2" name="insurance_2" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="3" style="display:none; background: #faf7f2;
                
                                    padding: 15px;
                                    margin-bottom: 20px;
                                    border: 1px solid #ccc;">
                        <h3>Device 3</h3>

                        <label for="AName_3">Name of Device Owner:</label>
                        <input type="text" id="AName_3" name="AName_3" required>
                        <label for="ASurname_3">Surname Device Owner:</label>
                        <input type="text" id="ASurname_3" name="ASurname_3">
                        <label for="APersonnel_nr_3">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_3" name="APersonnel_nr_3">
                        <label for="ACompany_3">Company:</label>
                        <select id="ACompany_3" name="ACompany_3">
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_3">Client Division:</label>
                        <select id="AClient_Division_3" name="AClient_Division_3">
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_3">Device Name:</label>
                        <input type="text" id="Device_Name_3" name="Device_Name_3">
                        <label for="Serial_Number_3">Serial Number:</label>
                        <input type="text" id="Serial_Number_3" name="Serial_Number_3">
                        <label for="Device_Description_3">Device Description:</label>
                        <select id="Device_Description_3" name="Device_Description_3">
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_3">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_3" name="insurance_3" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_3">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_3" name="insurance_3" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="4" style="display:none; background:#f0e8e1;
                
                                    padding: 15px;
                                    margin-bottom: 20px;
                                    border: 1px solid #ccc;">
                        <h3>Device 4</h3>

                        <label for="AName_4">Name of Device Owner:</label>
                        <input type="text" id="AName_4" name="AName_4" required>
                        <label for="ASurname_4">Surname Device Owner:</label>
                        <input type="text" id="ASurname_4" name="ASurname_4">
                        <label for="APersonnel_nr_4">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_4" name="APersonnel_nr_4">
                        <label for="ACompany_4">Company:</label>
                        <select id="ACompany_4" name="ACompany_4">
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_4">Client Division:</label>
                        <select id="AClient_Division_4" name="AClient_Division_4">
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_4">Device Name:</label>
                        <input type="text" id="Device_Name_4" name="Device_Name_4">
                        <label for="Serial_Number_4">Serial Number:</label>
                        <input type="text" id="Serial_Number_4" name="Serial_Number_4">
                        <label for="Device_Description_4">Device Description:</label>
                        <select id="Device_Description_4" name="Device_Description_4">
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_4">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_4" name="insurance_4" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_4">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_4" name="insurance_4" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="5" style="display:none; background: #faf7f2;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 5</h3>

                        <label for="AName_5">Name of Device Owner:</label>
                        <input type="text" id="AName_5" name="AName_5" required>
                        <label for="ASurname_5">Surname Device Owner:</label>
                        <input type="text" id="ASurname_5" name="ASurname_5">
                        <label for="APersonnel_nr_5">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_5" name="APersonnel_nr_5">
                        <label for="ACompany_5">Company:</label>
                        <select id="ACompany_5" name="ACompany_5">
                            <option>PCM</option>
                            <option>PRO
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_5">Client Division:</label>
                        <select id="AClient_Division_5" name="AClient_Division_5">
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_5">Device Name:</label>
                        <input type="text" id="Device_Name_5" name="Device_Name_5">
                        <label for="Serial_Number_5">Serial Number:</label>
                        <input type="text" id="Serial_Number_5" name="Serial_Number_5">
                        <label for="Device_Description_5">Device Description:</label>
                        <select id="Device_Description_5" name="Device_Description_5">
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_5">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_5" name="insurance_5" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_5">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_5" name="insurance_5" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="6" style="display:none; background:#f0e8e1;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 6</h3>

                        <label for="AName_6">Name of Device Owner:</label>
                        <input type="text" id="AName_6" name="AName_6" required>
                        <label for="ASurname_6">Surname Device Owner:</label>
                        <input type="text" id="ASurname_6" name="ASurname_6" required>
                        <label for="APersonnel_nr_6">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_6" name="APersonnel_nr_6" required>
                        <label for="ACompany_6">Company:</label>
                        <select id="ACompany_6" name="ACompany_6" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_6">Client Division:</label>
                        <select id="AClient_Division_6" name="AClient_Division_6" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_6">Device Name:</label>
                        <input type="text" id="Device_Name_6" name="Device_Name_6" required>
                        <label for="Serial_Number_6">Serial Number:</label>
                        <input type="text" id="Serial_Number_6" name="Serial_Number_6" required>
                        <label for="Device_Description_6">Device Description:</label>
                        <select id="Device_Description_6" name="Device_Description_6" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_6">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_6" name="insurance_6" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_6">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_6" name="insurance_6" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="7" style="display:none; background: #faf7f2;
                                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 7</h3>

                        <label for="AName_7">Name of Device Owner:</label>
                        <input type="text" id="AName_7" name="AName_7" required>
                        <label for="ASurname_7">Surname Device Owner:</label>
                        <input type="text" id="ASurname_7" name="ASurname_7" required>
                        <label for="APersonnel_nr_7">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_7" name="APersonnel_nr_7" required>
                        <label for="ACompany_7">Company:</label>
                        <select id="ACompany_7" name="ACompany_7" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_7">Client Division:</label>
                        <select id="AClient_Division_7" name="AClient_Division_7" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_7">Device Name:</label>
                        <input type="text" id="Device_Name_7" name="Device_Name_7" required>
                        <label for="Serial_Number_7">Serial Number:</label>
                        <input type="text" id="Serial_Number_7" name="Serial_Number_7" required>
                        <label for="Device_Description_7">Device Description:</label>
                        <select id="Device_Description_7" name="Device_Description_7" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_7">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_7" name="insurance_7" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_7">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_7" name="insurance_7" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="8" style="display:none; background:#f0e8e1;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 8</h3>

                        <label for="AName_8">Name of Device Owner:</label>
                        <input type="text" id="AName_8" name="AName_8" required>
                        <label for="ASurname_8">Surname Device Owner:</label>
                        <input type="text" id="ASurname_8" name="ASurname_8" required>
                        <label for="APersonnel_nr_8">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_8" name="APersonnel_nr_8" required>
                        <label for="ACompany_8">Company:</label>
                        <select id="ACompany_8" name="ACompany_8" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_8">Client Division:</label>
                        <select id="AClient_Division_8" name="AClient_Division_8" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_8">Device Name:</label>
                        <input type="text" id="Device_Name_8" name="Device_Name_8" required>
                        <label for="Serial_Number_8">Serial Number:</label>
                        <input type="text" id="Serial_Number_8" name="Serial_Number_8" required>
                        <label for="Device_Description_8">Device Description:</label>
                        <select id="Device_Description_8" name="Device_Description_8" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_8">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_8" name="insurance_8" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_8">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_8" name="insurance_8" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="9" style="display:none; background: #faf7f2;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 9</h3>

                        <label for="AName_9">Name of Device Owner:</label>
                        <input type="text" id="AName_9" name="AName_9" required>
                        <label for="ASurname_9">Surname Device Owner:</label>
                        <input type="text" id="ASurname_9" name="ASurname_9" required>
                        <label for="APersonnel_nr_9">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_9" name="APersonnel_nr_9" required>
                        <label for="ACompany_9">Company:</label>
                        <select id="ACompany_9" name="ACompany_9" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_9">Client Division:</label>
                        <select id="AClient_Division_9" name="AClient_Division_9" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_9">Device Name:</label>
                        <input type="text" id="Device_Name_9" name="Device_Name_9" required>
                        <label for="Serial_Number_9">Serial Number:</label>
                        <input type="text" id="Serial_Number_9" name="Serial_Number_9" required>
                        <label for="Device_Description_9">Device Description:</label>
                        <select id="Device_Description_9" name="Device_Description_9" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_9">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_9" name="insurance_9" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_9">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_9" name="insurance_9" value="No"
                                required>
                        </div>
                    </div>

                    <div class="device-form-wrapper" data-device-index="10" style="display:none; background:#f0e8e1;
                
                                        padding: 15px;
                                        margin-bottom: 20px;
                                        border: 1px solid #ccc;">
                        <h3>Device 10</h3>

                        <label for="AName_10">Name of Device Owner:</label>
                        <input type="text" id="AName_10" name="AName_10" required>
                        <label for="ASurname_10">Surname Device Owner:</label>
                        <input type="text" id="ASurname_10" name="ASurname_10" required>
                        <label for="APersonnel_nr_10">Personnel Number Of Device Owner:</label>
                        <input type="text" id="APersonnel_nr_10" name="APersonnel_nr_10" required>
                        <label for="ACompany_10">Company:</label>
                        <select id="ACompany_10" name="ACompany_10" required>
                            <option>PCM</option>
                            <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                            <option>PAS/PAC</option>
                            <option>INT</option>
                            <option>PSSS</option>
                            <option>POLYGRAPH</option>
                        </select>
                        <label for="AClient_Division_10">Client Division:</label>
                        <select id="AClient_Division_10" name="AClient_Division_10" required>
                            <option>N/A</option>
                            <option>VECTOR LOG</option>
                            <option>CRUSADER</option>
                            <option>SG</option>
                            <option>WOOLWORTHS</option>
                        </select>
                        <label for="Device_Name_10">Device Name:</label>
                        <input type="text" id="Device_Name_10" name="Device_Name_10" required>
                        <label for="Serial_Number_10">Serial Number:</label>
                        <input type="text" id="Serial_Number_10" name="Serial_Number_10" required>
                        <label for="Device_Description_10">Device Description:</label>
                        <select id="Device_Description_10" name="Device_Description_10" required>
                            <option>Laptop</option>
                            <option>Tablet</option>
                            <option>Cell-Phone</option>
                            <option>Monitor-Screen</option>
                            <option>Desktop</option>
                            <option>Other</option>
                        </select>
                        <label>Does this device have insurance?:</label>
                        <div class="radioDiv">
                            <label for="insuranceYes_10">Yes</label>
                            <input class="inputRadio" type="radio" id="insuranceYes_10" name="insurance_10" value="Yes"
                                required>
                        </div>
                        <div class="radioDiv">
                            <label for="insuranceNo_10">No</label>
                            <input class="inputRadio" type="radio" id="insuranceNo_10" name="insurance_10" value="No"
                                required>
                        </div>
                    </div>


                    <button type="submit" id="deviceSubmitBtn" class="formSubmitButton">Submit</button>

                    <button id="submitAllBtn" class="submitbothbutton" type="button">
                        Submit Contract + Devices
                    </button>

                </form>
            </div>





        </div>

        <div class="contentInner">
            <div class="boxTopHeader">Transferral Form</div>



            {% if message %}
            <p style="color: green;">{{ message }}</p>
            {% endif %}

            <form id="TransferralForm" method="post" action="/submit_transfer">
                <div class="button-group">
                    <button type="button" id="DeviceTransferBtn" class="transfer-btn selected">Device Transfer</button>
                    <button type="button" id="ContractTransferBtn" class="transfer-btn">Contract Transfer</button>
                </div>
                <div class="vodacom-form-wrapper">
                    <div id="deviceBox" class="transfer-box">
                        <input type="text" id="deviceSearchInput" placeholder="Search devices..."
                            class="search-input" />
                        <table class="result-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Surname</th>
                                    <th>Serial Number</th>
                                    <th>Device Name</th>
                                </tr>
                            </thead>
                            <tbody id="deviceTableBody">
                                <!-- Rows from API will appear here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Contract Dashboard Box -->
                    <div id="contractBox" class="transfer-box hidden">
                        <input type="text" id="contractSearchInput" placeholder="Search contracts..."
                            class="search-input" />
                        <table class="result-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Surname</th>
                                    <th>SIM Number</th>
                                </tr>
                            </thead>
                            <tbody id="contractTableBody">
                                <!-- Contract rows will be injected here -->
                            </tbody>
                        </table>
                    </div>

                    <input type="hidden" id="selectedDeviceId" name="selectedDeviceId" />
                    <input type="hidden" id="selectedContractId" name="selectedContractId" />

                    <p id="deviceSelectionMessage" class="selection-msg" style="display: none;"></p>
                    <p id="contractSelectionMessage" class="selection-msg" style="display: none;"></p>


                    <label for="AName_10">Name:</label>
                    <input type="text" id="AName_10" name="AName_10" required>
                    <label for="ASurname_10">Surname:</label>
                    <input type="text" id="ASurname_10" name="ASurname_10" required>
                    <label for="APersonnel_nr_10">Personnel Number:</label>
                    <input type="text" id="APersonnel_nr_10" name="APersonnel_nr_10" required>
                    <label for="ACompany_10">Company:</label>
                    <select id="ACompany_10" name="ACompany_10" required>
                        <option>PCM</option>
                        <option>PROFESSIONAL RISK & ASSET MANAGEMENT</option>
                        <option>PAS/PAC</option>
                        <option>INT</option>
                        <option>PSSS</option>
                        <option>POLYGRAPH</option>
                    </select>
                    <label for="AClient_Division_10">Client Division:</label>
                    <select id="AClient_Division_10" name="AClient_Division_10" required>
                        <option>N/A</option>
                        <option>VECTOR LOG</option>
                        <option>CRUSADER</option>
                        <option>SG</option>
                        <option>WOOLWORTHS</option>
                    </select>

                </div>
                <button type="submit" id="transferSubmitBtn" class="formSubmitButton">Submit</button>
            </form>

        </div>

    </div>


    <script>
        /* =========================================
           FORM.JS — unified script for form.html
           Place this once at the end of the <body>.
        ========================================= */
        document.addEventListener("DOMContentLoaded", () => {
            // ====== DOM GETTERS ======
            const vodacomForm = document.getElementById("vodacomForm");
            const deviceForm = document.getElementById("allDevicesForm");
            const transferForm = document.getElementById("TransferralForm");

            const vodacomSubmitBtn = document.getElementById("vodacomSubmitBtn");
            const deviceSubmitBtn = document.getElementById("deviceSubmitBtn");
            const universalSubmitWrapper = document.getElementById("universalSubmitWrapper");
            const submitAllBtn = document.getElementById("submitAllBtn");

            const hasDevicesCheckbox = document.getElementById("hasDevices");
            const deviceIsVodacomCheckbox = document.getElementById("deviceIsVodacom");
            const deviceCountContainer = document.getElementById("deviceCountContainer");
            const deviceCountInput = document.getElementById("deviceCount");

            const inceptionInput = document.getElementById("Inception_Date");
            const terminationInput = document.getElementById("Termination_Date");
            const contractRadios = Array.from(document.querySelectorAll('input[name="Contract_Term"]'));

            const costInput = document.getElementById("Monthly_Costs");
            const vatInput = document.getElementById("VAT");
            const exclInput = document.getElementById("Monthly_Cost_Excl_VAT");

            // Device/Contract search DOM
            const deviceSearchInput = document.getElementById("deviceSearchInput");
            const deviceTableBody = document.getElementById("deviceTableBody");
            const contractSearchInput = document.getElementById("contractSearchInput");
            const contractTableBody = document.getElementById("contractTableBody");

            const selectedDeviceIdEl = document.getElementById("selectedDeviceId");
            const selectedContractIdEl = document.getElementById("selectedContractId");
            const deviceSelectionMessage = document.getElementById("deviceSelectionMessage");
            const contractSelectionMessage = document.getElementById("contractSelectionMessage");

            const deviceBtn = document.getElementById("DeviceTransferBtn");
            const contractBtn = document.getElementById("ContractTransferBtn");
            const deviceBox = document.getElementById("deviceBox");
            const contractBox = document.getElementById("contractBox");

            // Optional pills for visual link cue (safe if missing)
            const linkPillContract = document.getElementById("linkPillContract");
            const linkPillDevices = document.getElementById("linkPillDevices");

            // All device blocks (1..10)
            const deviceWrappers = Array.from(document.querySelectorAll(".device-form-wrapper"));

            // ====== UTILITIES ======
            const clamp = (n, lo, hi) => Math.max(lo, Math.min(hi, n));

            function parseTermMonths() {
                const sel = contractRadios.find(r => r.checked);
                if (!sel) return null;
                const m = parseInt(sel.value, 10);
                return Number.isFinite(m) ? m : null;
            }

            // sort wrappers by data-device-index if present, else DOM order
            function getWrappersSorted() {
                const withIdx = deviceWrappers.map((w, i) => {
                    const idx = parseInt(w.dataset.deviceIndex || (i + 1), 10);
                    return { wrap: w, idx: Number.isFinite(idx) ? idx : i + 1 };
                });
                withIdx.sort((a, b) => a.idx - b.idx);
                return withIdx.map(x => x.wrap);
            }

            function setVisibleAndDisable(wrapper, visible) {
                wrapper.style.display = visible ? "block" : "none";
                wrapper.querySelectorAll("input, select, textarea, button").forEach(el => {
                    el.disabled = !visible; // hidden fields won't validate or submit
                });
            }

            function visibleDeviceCount() {
                const v = parseInt(deviceCountInput?.value || "1", 10);
                return clamp(isNaN(v) ? 1 : v, 1, 10);
            }

            function updateDeviceBlocksFromCount() {
                const wrappers = getWrappersSorted();
                const n = visibleDeviceCount();
                wrappers.forEach((wrap, i) => setVisibleAndDisable(wrap, i < n));
            }

            function toggleSubmitButtons() {
                const linked = !!(hasDevicesCheckbox?.checked || deviceIsVodacomCheckbox?.checked);
                // Add/remove a single class on <html> (high specificity and global)
                document.documentElement.classList.toggle("is-linked", linked);
            }



            function toggleDeviceCountVisibility() {
                if (!deviceCountContainer) return;
                deviceCountContainer.style.display = hasDevicesCheckbox?.checked ? "block" : "none";
            }

            // Subtle visual cue for linked state (no layout shift)
            function setLinkedUI(isLinked) {
                if (vodacomForm) {
                    vodacomForm.classList.toggle("form-linked", isLinked);
                    if (linkPillContract) linkPillContract.style.display = isLinked ? "inline-block" : "none";
                }
                if (deviceForm) {
                    deviceForm.classList.toggle("form-linked", isLinked);
                    if (linkPillDevices) linkPillDevices.style.display = isLinked ? "inline-block" : "none";
                }
                if (submitAllBtn) submitAllBtn.textContent = isLinked ? "Submit Contract + Devices" : "Submit";
            }

            // ====== VAT + TERM CALC ======
            function calculateVAT() {
                if (!costInput || !vatInput || !exclInput) return;
                const cost = parseFloat(costInput.value);
                if (isNaN(cost)) {
                    vatInput.value = "";
                    exclInput.value = "";
                    return;
                }
                const vat = +(cost * 0.15).toFixed(2);
                const excl = +(cost - vat).toFixed(2);
                vatInput.value = String(vat);
                exclInput.value = String(excl);
            }

            function calculateTerminationDate() {
                if (!inceptionInput || !terminationInput) return;
                const inception = new Date(inceptionInput.value);
                if (isNaN(inception.getTime())) return;
                const months = parseTermMonths();
                if (!months) return;
                const term = new Date(inception);
                term.setMonth(term.getMonth() + months);
                terminationInput.value = term.toISOString().split("T")[0];
            }

            // ====== CHECKBOX LINKING ======
            function syncLinkedCheckboxes(changedEl) {
                if (!hasDevicesCheckbox || !deviceIsVodacomCheckbox) return;
                const isChecked = changedEl.checked;
                if (changedEl === hasDevicesCheckbox) {
                    deviceIsVodacomCheckbox.checked = isChecked;
                } else {
                    hasDevicesCheckbox.checked = isChecked;
                }
                toggleSubmitButtons();
                toggleDeviceCountVisibility();
                updateDeviceBlocksFromCount();
                setLinkedUI(isChecked);
            }

            // ====== SUBMIT BOTH ======
            async function submitBothForms() {
                if (!vodacomForm || !deviceForm) return;

                // Ensure visibility/disabled state is up-to-date
                updateDeviceBlocksFromCount();

                // Validate Vodacom
                if (!vodacomForm.checkValidity()) {
                    vodacomForm.reportValidity();
                    return;
                }

                // Validate only visible device blocks (1..deviceCount)
                const count = visibleDeviceCount();
                const wrappers = getWrappersSorted();
                for (let i = 0; i < count; i++) {
                    const wrap = wrappers[i];
                    if (!wrap) continue;
                    const fields = wrap.querySelectorAll("input, select");
                    for (const f of fields) {
                        if (f.disabled) continue;   // hidden blocks are disabled
                        if (!f.checkValidity()) {
                            f.reportValidity();
                            return;
                        }
                    }
                }

                // Build combined FormData
                const fd = new FormData();
                for (const [k, v] of new FormData(vodacomForm)) fd.append(k, v);
                for (const [k, v] of new FormData(deviceForm)) fd.append(k, v);

                try {
                    const res = await fetch("/submit_all", { method: "POST", body: fd });
                    if (res.ok) {
                        alert("Submission successful!");
                        window.location.reload();
                    } else {
                        const txt = await res.text().catch(() => "");
                        alert("There was a problem submitting both forms." + (txt ? "\n\n" + txt : ""));
                    }
                } catch (e) {
                    console.error(e);
                    alert("Network error submitting forms.");
                }
            }

            // ====== DEVICE SEARCH ======
            if (deviceSearchInput && deviceTableBody) {
                deviceSearchInput.addEventListener("input", async (e) => {
                    const q = e.target.value.trim();
                    if (!q) { deviceTableBody.innerHTML = ""; return; }
                    try {
                        const res = await fetch(`/search/devices?query=${encodeURIComponent(q)}`);
                        const data = await res.json();
                        deviceTableBody.innerHTML = "";
                        data.forEach(row => {
                            const tr = document.createElement("tr");
                            tr.classList.add("selectable");
                            tr.dataset.id = row.id;
                            tr.innerHTML = `
            <td>${row.name}</td>
            <td>${row.surname}</td>
            <td>${row.serial}</td>
            <td>${row.device}</td>
          `;
                            deviceTableBody.appendChild(tr);
                        });
                    } catch (err) {
                        console.error("Error fetching devices:", err);
                    }
                });
            }

            // ====== CONTRACT SEARCH ======
            if (contractSearchInput && contractTableBody) {
                contractSearchInput.addEventListener("input", async (e) => {
                    const q = e.target.value.trim();
                    if (!q) { contractTableBody.innerHTML = ""; return; }
                    try {
                        const res = await fetch(`/search/contracts?query=${encodeURIComponent(q)}`);
                        const data = await res.json();
                        contractTableBody.innerHTML = "";
                        data.forEach(row => {
                            const tr = document.createElement("tr");
                            tr.classList.add("selectable");
                            tr.dataset.id = row.id;
                            tr.innerHTML = `
            <td>${row.name}</td>
            <td>${row.surname}</td>
            <td>${row.sim}</td>
          `;
                            contractTableBody.appendChild(tr);
                        });
                    } catch (err) {
                        console.error("Error fetching contracts:", err);
                    }
                });
            }

            // ====== ROW SELECTION (device/contract) ======
            document.addEventListener("click", (e) => {
                const deviceRow = e.target.closest("#deviceTableBody tr.selectable");
                const contractRow = e.target.closest("#contractTableBody tr.selectable");

                if (deviceRow && deviceTableBody) {
                    deviceTableBody.querySelectorAll("tr.selectable.selected").forEach(r => r.classList.remove("selected"));
                    deviceRow.classList.add("selected");
                    const selId = deviceRow.dataset.id;
                    const serial = deviceRow.children[2]?.textContent || "";
                    if (selectedDeviceIdEl) selectedDeviceIdEl.value = selId || "";
                    if (deviceSelectionMessage) {
                        deviceSelectionMessage.textContent = `Enter the new device owner's details for serial number: ${serial}`;
                        deviceSelectionMessage.style.display = "block";
                    }
                }

                if (contractRow && contractTableBody) {
                    contractTableBody.querySelectorAll("tr.selectable.selected").forEach(r => r.classList.remove("selected"));
                    contractRow.classList.add("selected");
                    const selId = contractRow.dataset.id;
                    const sim = contractRow.children[2]?.textContent || "";
                    if (selectedContractIdEl) selectedContractIdEl.value = selId || "";
                    if (contractSelectionMessage) {
                        contractSelectionMessage.textContent = `Enter the new contract owner's details for SIM number: ${sim}`;
                        contractSelectionMessage.style.display = "block";
                    }
                }
            });

            // ====== TRANSFER BOX TOGGLE ======
            if (deviceBtn && contractBtn && deviceBox && contractBox) {
                deviceBtn.addEventListener("click", () => {
                    deviceBtn.classList.add("selected");
                    contractBtn.classList.remove("selected");
                    deviceBox.classList.remove("hidden");
                    contractBox.classList.add("hidden");
                    if (selectedContractIdEl) selectedContractIdEl.value = "";
                    if (contractSelectionMessage) contractSelectionMessage.style.display = "none";
                    document.querySelectorAll("#contractTableBody tr.selectable.selected").forEach(r => r.classList.remove("selected"));
                });

                contractBtn.addEventListener("click", () => {
                    contractBtn.classList.add("selected");
                    deviceBtn.classList.remove("selected");
                    contractBox.classList.remove("hidden");
                    deviceBox.classList.add("hidden");
                    if (selectedDeviceIdEl) selectedDeviceIdEl.value = "";
                    if (deviceSelectionMessage) deviceSelectionMessage.style.display = "none";
                    document.querySelectorAll("#deviceTableBody tr.selectable.selected").forEach(r => r.classList.remove("selected"));
                });
            }

            // ====== TRANSFER SUBMIT: strip empty hidden ids ======
            if (transferForm) {
                transferForm.addEventListener("submit", () => {
                    if (selectedDeviceIdEl && !selectedDeviceIdEl.value) selectedDeviceIdEl.remove();
                    if (selectedContractIdEl && !selectedContractIdEl.value) selectedContractIdEl.remove();
                });
            }

            // ====== EVENT WIRING ======
            // VAT calc
            if (costInput) costInput.addEventListener("input", calculateVAT);

            // Termination calc
            if (inceptionInput) inceptionInput.addEventListener("change", calculateTerminationDate);
            contractRadios.forEach(radio => radio.addEventListener("change", calculateTerminationDate));

            // Linked checkboxes + UI
            if (hasDevicesCheckbox) hasDevicesCheckbox.addEventListener("change", e => syncLinkedCheckboxes(e.target));
            if (deviceIsVodacomCheckbox) deviceIsVodacomCheckbox.addEventListener("change", e => syncLinkedCheckboxes(e.target));

            // Device count
            if (deviceCountInput) {
                deviceCountInput.addEventListener("input", updateDeviceBlocksFromCount);
                deviceCountInput.addEventListener("change", updateDeviceBlocksFromCount);
            }

            // Submit both
            if (submitAllBtn) submitAllBtn.addEventListener("click", submitBothForms);

            // ====== INITIALIZE ======
            calculateVAT();
            calculateTerminationDate();
            toggleSubmitButtons();
            toggleDeviceCountVisibility();
            updateDeviceBlocksFromCount();

            // Initial linked UI state
            const initiallyLinked = !!(hasDevicesCheckbox?.checked || deviceIsVodacomCheckbox?.checked);
            setLinkedUI(initiallyLinked);

            // Safety: ensure hidden blocks are disabled on first load
            getWrappersSorted().forEach((wrap, i) => {
                const visible = i < visibleDeviceCount();
                setVisibleAndDisable(wrap, visible);
            });
        });
        document.addEventListener("DOMContentLoaded", () => {
            const handle = document.getElementById("sidebarHandle");
            const collapseBtn = document.getElementById("sidebarCollapse"); // optional header button
            const scrim = document.getElementById("sidebarScrim");

            function toggleSidebar() {
                const collapsed = document.body.classList.toggle("sidebar-collapsed");

                handle?.setAttribute("aria-pressed", String(!collapsed ? true : false));
                handle?.setAttribute(
                    "aria-label",
                    collapsed ? "Expand sidebar" : "Collapse sidebar"
                );
                handle.title = collapsed ? "Expand sidebar" : "Collapse sidebar";
            }

            handle?.addEventListener("click", toggleSidebar);
            collapseBtn?.addEventListener("click", toggleSidebar);

            scrim?.addEventListener("click", () => {
                document.body.classList.remove("sidebar-open");
            });
        });
        document.addEventListener("DOMContentLoaded", () => {
            const logoutLink = document.getElementById("logoutLink");
            if (logoutLink) {
                logoutLink.addEventListener("click", function (e) {
                    e.preventDefault(); // stop direct navigation
                    const confirmed = confirm("Are you sure you want to log out?");
                    if (confirmed) {
                        window.location.href = this.href; // proceed to /logout
                    }
                });
            }
        });
        document.addEventListener("DOMContentLoaded", () => {
            /* … your existing sidebar JS … */

            // === NEW: play the active-link intro animation on page load (skip Log Out) ===
            const activeLinks = Array.from(document.querySelectorAll(".sidebar a.active"))
                .filter(a => a.id !== "logoutLink");

            // Start them in “hover” pose and animate into “active”
            activeLinks.forEach(a => a.classList.add("just-activated"));

            // After 1s (box-shadow fade done), clean up the temp class
            setTimeout(() => {
                activeLinks.forEach(a => a.classList.remove("just-activated"));
            }, 1050);
        });

    </script>

</body>

</html>